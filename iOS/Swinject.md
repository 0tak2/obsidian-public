## ê°œìš”

í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ê°œì¸í”„ë¡œì íŠ¸ë¥¼ ì¶œì‹œí•˜ê³  ë³´ë‹ˆ ë¶ˆí¸í•œ ì ì´ ìˆë‹¤

1. ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë„ˆë¬´ ì»¤ì¡Œë‹¤.
    - ë©°ì¹ ë§Œ ì½”ë“œë¥¼ ì•ˆë´ë„ ë‹¤ì‹œ ë³¼ ë•Œ íŒŒì•…í•  ì‹œê°„ì´ ì¢€ í•„ìš”í•˜ë‹¤.
	- Extensionìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìˆ˜í‰ì ìœ¼ë¡œ ë¶„í• í•˜ë©´ì„œ ì§°ì§€ë§Œ, ì˜¤íˆë ¤ í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ì½”ë“œê°€ ì—¬ëŸ¬ íŒŒì¼ë¡œ ìª¼ê°œì§€ë‹¤ ë³´ë‹ˆ ìˆ˜ì •í•´ì•¼í•  ë©”ì„œë“œê°€ ì–´ë””ì— ìˆëŠ”ì§€ ì°¾ëŠ”ë° ì‹œê°„ì´ ë” ê±¸ë¦°ë‹¤.
2. ì´ëŸ° ì¼ì´ ìˆìœ¼ë‹ˆ ì•„í‚¤í…ì³ ë ˆë²¨ì—ì„œì˜ ê°œì„  í•„ìš”ì„±ì„ ë§ì´ ëŠê¼ˆë‹¤. í”„ë¡œì íŠ¸ëŠ” ì ì  ë” í™•ì¥ë  ê²ƒì´ë¯€ë¡œ, ë ˆì´ì–´ë¥¼ ë‚˜ëˆ„ì–´ì•¼ ìœ„ì™€ ê°™ì€ ë¶ˆí¸ì´ ì¤„ì–´ë“¤ ê²ƒì´ë‹¤.
3. ë§‰ìƒ ë¬´í„±ëŒ€ê³  MVVMì´ë‹ˆ í´ë¦° ì•„í‚¤í…ì³ë‹ˆ ë„ì…í•˜ë ¤ ë³´ë‹ˆ, ì‚¬ì†Œí•œ ë³€ê²½ì—ë„ ê¸°ì¡´ ê¸°ëŠ¥ì— ì¥ì• ê°€ ìƒê²¼ë˜ ì´ì „ì˜ ëª‡ëª‡ ì¼€ì´ìŠ¤ê°€ ë– ì˜¬ëë‹¤.
4. ì¥ëŒ€í•œ ìš•ì‹¬ì˜ ì‹œì‘ì—ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œê°€ í•„ìš”í•˜ë‹¤. ë¦¬íŒ©í† ë§í•˜ê³ , í…ŒìŠ¤íŠ¸í•˜ê³ , ì•ˆì‹¬í•˜ê³ , ... ì ì–´ë„ ì´ ì‚¬ì´í´ì„ ìì‹ ìˆê²Œ ëŒë¦´ ìˆ˜ ìˆì–´ì•¼ ì‹œì‘í•  ìˆ˜ ìˆë‹¤.
5. ë¦¬íŒ©í† ë§ì„ ìœ„í•œ í…ŒìŠ¤íŠ¸ì´ë¯€ë¡œ í†µí•© í…ŒìŠ¤íŠ¸ê°€ ì•„ë‹ˆë¼ í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ í•„ìš”í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ ì§€ê¸ˆ êµ¬í˜„ ìƒ, ê°ì¢… ì»´í¬ë„ŒíŠ¸ë¼ë¦¬ì˜ ê²°í•©ë„ê°€ ë§¤ìš° ê°•í•´ì„œ ë°”ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•  ìˆ˜ê°€ ì—†ë‹¤.
	- ì´ëŸ° ì½”ë“œ `let component = Component.shared`ê°€ ë„ˆë¬´ ë§ë‹¤.
6. ì»´í¬ë„ŒíŠ¸ë¼ë¦¬ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶°ì•¼ í•œë‹¤. DIê°€ í•„ìš”í•˜ë‹¤.

View - ViewController - Repository - ...  
ê° ì»´í¬ë„ŒíŠ¸ê°€ ì§ì ‘ ì˜ì¡´ ì»´í¬ë„ŒíŠ¸ì˜ ê°ì²´ë¥¼ ìƒì„±í•´ ì†Œìœ í•˜ëŠ” ë°©ì‹ì€ ë‹¨ìˆœí•˜ì§€ë§Œ ê²°í•©ë„ë¥¼ ë†’ì¸ë‹¤. ì´ëŸ° ì˜ì¡´ ê´€ê³„ë¥¼ ëŠìŠ¨í•´ì§€ë„ë¡ ëŠìœ¼ë ¤ë©´ ì™¸ë¶€ì—ì„œ ì˜ì¡´í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì£¼ì…ë°›ë„ë¡ ë¦¬íŒ©í† ë§í•˜ë©´ ëœë‹¤. (Dependency Injection)

ë‹¹ì—°íˆ ì£¼ì…ì€ ì™¸ë¶€ì—ì„œ ëˆ„êµ°ê°€ê°€ í•´ì¤˜ì•¼ í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì—¬ëŸ¬ ì–¸ì–´ ì§„ì˜ê³¼ëŠ” ìƒê´€ì—†ì´ ë‹¤ì–‘í•œ í”„ë ˆì„ì›Œí¬ë‚˜ DI ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ëŠ” ê³µí†µì ìœ¼ë¡œ Containerê°€ ìˆë‹¤. ì´ Containerì— ê°ì¢… ì»´í¬ë„ŒíŠ¸ì˜ ê°ì²´ë¥¼ ìƒì„±í•´ ëª¨ì•„ë‘ê³ , ì—¬ê¸°ì„œì—ì„œ ì›í•˜ëŠ” ê°ì²´ì— ê°€ì§€ê³  ìˆëŠ” ë‹¤ë¥¸ ê°ì²´ë¥¼ ì£¼ì…í•´ì¤€ë‹¤.  
ìš°ë¦¬ê°€ ì‘ì„±í•´ë‘” ì½”ë“œëŠ” ì˜ì¡´ì„± í•´ê²°ì— ëŒ€í•œ ì±…ì„ì—ì„œ ì†ì„ ë–¼ê³ , ì™¸ë¶€ì˜ ì»¨í…Œì´ë„ˆê°€ ì´ ì±…ì„ì„ ëŒ€ì‹ í•˜ëŠ” ê²ƒì´ë‹¤. (Inversion of control)

ë°±ì—”ë“œ ê°œë°œì„ í•  ë•Œì—ëŠ” Springì—ì„œ ì´ ì‘ì—…ì„ ë„ˆë¬´ ê°„ë‹¨íˆ í•´ì¤˜ì„œ ëª©ì ê³¼ í•„ìš”ì„±ì„ ì˜ ì²´ê°í•˜ì§€ ëª»í–ˆì—ˆë‹¤. ëª¨ë°”ì¼ ê°œë°œì„ ì‹œì‘í•´ë³´ë‹ˆ ë„ˆë¬´ë‚˜ë„ í•„ìš”ì„±ì„ ëŠë‚€ë‹¤. ê³µë¶€ê°€ ë˜ì—ˆë‹¤.

DI ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ [Swinject](https://github.com/Swinject/Swinject)ë¥¼ ì„ íƒí–ˆë‹¤. [swift-dependencies](https://github.com/pointfreeco/swift-dependencies)ì™€ ê°™ì´ ë‹¤ë¥¸ ì„ íƒì§€ê°€ ë§ì•˜ì§€ë§Œ, Swinjectê°€ ìŠ¤í† ë¦¬ë³´ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë„ í¸ë¦¬í•˜ê²Œ DIê°€ ë˜ì–´ì„œ ì„ íƒí–ˆë‹¤. ì´ ê²½ìš° [SwinjectStoryboard](https://github.com/Swinject/SwinjectStoryboard)ë„ í•¨ê»˜ ì¶”ê°€í•´ì•¼ í•œë‹¤.

## í”„ë¡œì íŠ¸ì— íŒ¨í‚¤ì§€ ì¶”ê°€

- [ë¬¸ì„œ](https://github.com/Swinject/SwinjectStoryboard?tab=readme-ov-file#installation)ë¥¼ ì°¸ê³ 
- Swift Package Managerë¥¼ ì§€ì›í•˜ë¯€ë¡œ, Xcodeì—ì„œ GUIë¡œ `https://github.com/Swinject/SwinjectStoryboard.git`ë¥¼ ì¶”ê°€í–ˆë‹¤.
	![](Pasted%20image%2020250127200807.png)

## ê°„ë‹¨í•œ ì‚¬ìš© ë°©ë²•

### 1. ì½”ë“œë² ì´ìŠ¤ í”„ë¡œì íŠ¸

```swift
import Swinject

class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?
    let container: Container = {
        let container = Container()
        container.register(Animal.self) { _ in Cat(name: "Mimi") }
        container.register(Person.self) { r in
            PetOwner(pet: r.resolve(Animal.self)!)
        }
        container.register(PersonViewController.self) { r in
            let controller = PersonViewController()
            controller.person = r.resolve(Person.self)
            return controller
        }
        return container
    }()

    func application(
        _ application: UIApplication,
        didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey : Any]? = nil) -> Bool {

        // Instantiate a window.
        let window = UIWindow(frame: UIScreen.main.bounds)
        window.makeKeyAndVisible()
        self.window = window

        // Instantiate the root view controller with dependencies injected by the container.
        window.rootViewController = container.resolve(PersonViewController.self)

        return true
    }
}
```

- AppDelegateë‚˜, SceneDelegateë¥¼ ì‚¬ìš©í•œë‹¤ë©´ SceneDelegateì—ì„œ DI ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“ ë‹¤.
- ë£¨íŠ¸ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë˜ì–´ì•¼ í•  ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆì˜ resolve ë©”ì„œë“œë¥¼ í†µí•´ ìƒì„±í•˜ê³ , UIWindow ê°ì²´ì— í• ë‹¹í•œë‹¤.

### 2. ìŠ¤í† ë¦¬ë³´ë“œ í”„ë¡œì íŠ¸

```swift
extension SwinjectStoryboard {
    @objc class func setup() {
        defaultContainer.register(Animal.self) { _ in Cat(name: "Mimi") }
        defaultContainer.register(Person.self) { r in
            PetOwner(pet: r.resolve(Animal.self)!)
        }
        defaultContainer.register(PersonViewController.self) { r in
            let controller = PersonViewController()
            controller.person = r.resolve(Person.self)
            return controller
        }
    }
}
```

- ìŠ¤í† ë¦¬ë³´ë“œë¥¼ ì‚¬ìš©í•œë‹¤ë©´, ìŠ¤í† ë¦¬ë³´ë“œê°€ ì¸ìŠ¤í„´ìŠ¤í™”ë˜ì—ˆì„ ë•Œ í•´ë‹¹ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì˜ì¡´ì„±ì´ ì£¼ì…ë˜ì–´ì•¼ í•  ê²ƒì´ë‹¤. ê·¸ë ‡ë‹¤ë©´ ìŠ¤í† ë¦¬ë³´ë“œ ì¸ìŠ¤í„´ìŠ¤í™” ì´ì „ì— ì»¨í…Œì´ë„ˆê°€ êµ¬ì„±ë˜ì–´ì•¼ í•œë‹¤.
- ì´ë•Œ SwinjectStoryboardì— ëŒ€í•œ ìµìŠ¤í…ì…˜ìœ¼ë¡œ setupì´ë¼ëŠ” í´ë˜ìŠ¤ ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³ , ì—¬ê¸°ì„œ DI ì»¨í…Œì´ë„ˆë¥¼ ë“±ë¡í•œë‹¤. SwinjectStoryboard ë‚´ defaultContainer í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ê¸°ë³¸ DI ì»¨í…Œì´ë„ˆë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.
- ê·¸ëŸ¼ ìŠ¤í† ë¦¬ë³´ë“œê°€ ì¸ìŠ¤í„´ìŠ¤í™”ë˜ëŠ” íƒ€ì´ë°ì— SwinjectStoryboardê°€ ì»¨í…Œì´ë„ˆë¥¼ í†µí•´ ì˜ì¡´ ì»´í¬ë„ŒíŠ¸ë¥¼ ì£¼ì…í•´ì¤€ë‹¤.

### 3. ìŠ¤í† ë¦¬ë³´ë“œ í”„ë¡œì íŠ¸ì´ì§€ë§Œ ëª…ì‹œì ìœ¼ë¡œ ìŠ¤í† ë¦¬ë³´ë“œë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”

```swift
@UIApplicationMain
class AppDelegate: UIResponder, UIApplicationDelegate {
    var window: UIWindow?
    var container: Container = {
        let container = Container()
        container.storyboardInitCompleted(AnimalViewController.self) { r, c in
            c.animal = r.resolve(Animal.self)
        }
        container.register(Animal.self) { _ in Cat(name: "Mimi") }
        return container
    }()

    func application(
        _ application: UIApplication,
        didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey : Any]? = nil) -> Bool {

        let window = UIWindow(frame: UIScreen.mainScreen().bounds)
        window.makeKeyAndVisible()
        self.window = window

        let storyboard = SwinjectStoryboard.create(name: "Main", bundle: nil, container: container)
        window.rootViewController = storyboard.instantiateInitialViewController()

        return true
    }
}
```

- 1ë²ˆ ê²½ìš°ì™€ ë¹„ìŠ·í•˜ë‹¤.
- AppDelegateë‚˜, SceneDelegateë¥¼ ì‚¬ìš©í•œë‹¤ë©´ SceneDelegateì—ì„œ DI ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“¤ê³ , SwinjectStoryboardë¥¼ create ë©”ì„œë“œë¥¼ í†µí•´ ìƒì„±í•˜ë©´ì„œ ë§Œë“  ì»¨í…Œì´ë„ˆë¥¼ ë„˜ê²¨ì¤€ë‹¤.
- SwinjectStoryboardë¡œë¶€í„° ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ê³  ë£¨íŠ¸ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì— í• ë‹¹í•œë‹¤.

## ê°ì²´ ìŠ¤ì½”í”„

- [ì—¬ê¸°](https://github.com/Swinject/Swinject/blob/master/Documentation/ObjectScopes.md)ì—ì„œ ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- ê°ì²´ ìŠ¤ì½”í”„ë€ ì»¨í…Œì´ë„ˆë¡œë¶€í„° ê°ì²´ë¥¼ ì œê³µë°›ì„ ë•Œ ì–´ëŠ ì •ë„ë¡œ ê³µìœ í•˜ê²Œ í•  ê²ƒì¸ì§€ì— ê´€í•œ ê°œë…ì´ë‹¤. ì•„ë˜ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆì§€ë§Œ DI ì»¨í…Œì´ë„ˆì—ëŠ” ê°ì²´ ê·¸ ìì²´ê°€ ë“±ë¡ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, íŒ©í† ë¦¬ í´ë¡œì ¸ê°€ ë“±ë¡ë˜ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ resolve ë©”ì„œë“œë¥¼ í†µí•´  í•„ìš”í•œ ê°ì²´ë¥¼ ì–»ì„ ë•Œ í•´ë‹¹ ê°ì²´ë¥¼ ì „ì—­ì— ê³µìœ í• ì§€, ì „í˜€ ê³µìœ í•˜ì§€ ì•Šì„ ê²ƒì¸ì§€ ë“± ê³µìœ ì˜ ë²”ìœ„ë¥¼ ë”°ë¡œ ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.
- ì´ë ‡ê²Œ register í•˜ë©´ì„œ ì§€ì •í•˜ë©´ ëœë‹¤.

	```swift
	container.registe(AProtocol.self) { _ in AObject() }
    .inObjectScope(.container) // ğŸ‘ˆ
	```

- ê¸°ë³¸ ìŠ¤ì½”í”„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
	1. Transient: ë§¤ë²ˆ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“ ë‹¤.
	2. Graph (ê¸°ë³¸ê°’): ëª…ì‹œì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆì— ëŒ€í•´ resolveë¥¼ í˜¸ì¶œí•´ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš° í•´ë‹¹ ê°ì²´ëŠ” ë¬´ì¡°ê±´ ìƒˆë¡œ ìƒì„±í•œë‹¤. ê·¸ëŸ¬ë‚˜ í•´ë‹¹ ê°ì²´ë¥¼ ë°˜í™˜í•˜ê¸° ìœ„í•´ ì—¬ëŸ¬ ì˜ì¡´ì„±ì„ í•´ê²°í•˜ë©´ì„œ ìƒì„±ë˜ëŠ” ê°ì²´ë“¤ì€ ê³µìœ í•œë‹¤.
		- ì˜ˆë¥¼ ë“¤ì–´,

			```
			ReadService - Repository - Logger
			            \ Logger

            WriterService - Repository - Logger
                        \ Logger
		   ```
			```swift
			let reader = container.resolve(ReadServiceProtocol.self)!
		 .  let writer = container.resolve(WriterServiceProtocol.self)!
	       ```
		   
		   - ì´ëŸ¬í•œ ê´€ê³„ê°€ ìˆì„ ë•Œ ë™ì¼ ê°ì²´ë¥¼ í‘œì‹œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

			```
			ReadService - Repository(A) - Logger(B)
			            \ Logger(B)

            WriterService - Repository(C) - Logger(D)
                        \ Logger(D)
		   ```

	1. Container: ì‹±ê¸€í†¤ ê°ì²´ë¡œ ë‹¤ë£¬ë‹¤. resolveí•  ë•Œë§ˆë‹¤ ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•Šê³  í•˜ë‚˜ë¥¼ ê³µìœ í•œë‹¤.
	2. Weak: ì´ ìŠ¤ì½”í”„ì¸ ìƒíƒœì—ì„œ ê°ì²´ê°€ ìƒì„±ë˜ë©´, ì»¨í…Œì´ë„ˆì—ì„œ í•´ë‹¹ ê°ì²´ê°€ ì°¸ì¡°ë˜ê³  ìˆì„ ê²½ìš° í•´ë‹¹ ê°ì²´ê°€ ê³µìœ ëœë‹¤. ì°¸ì¡°ê°€ ì—†ì–´ì§„ í›„ resolveê°€ í˜¸ì¶œë˜ë©´ ìƒˆë¡œ ìƒì„±í•œë‹¤.

- ê°ì²´ê°€ ê°€ì§€ëŠ” ìƒíƒœì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì§€ì •í•´ì¤˜ì•¼í•  ê²ƒ ê°™ë‹¤. ì „ì—­ì ìœ¼ë¡œ ìƒíƒœê°€ ê³µìœ ë˜ì–´ì•¼ í•˜ê±°ë‚˜ statelessí•˜ì—¬ ë§¤ë²ˆ ìƒì„±ë˜ì–´ì„œëŠ” ì•ˆë˜ê±°ë‚˜ ìƒì„±í•  í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ Containerë¥¼ ì“°ë©´ ë  ê²ƒì´ë‹¤.
- ê°ì²´ê°€ íŠ¹ì • ì»¨í…ìŠ¤íŠ¸ì—ì„œ ê°€ì§€ëŠ” ë³„ê°œì˜ ìƒíƒœë¥¼ ê°€ì§„ë‹¤ë©´ Transientë‚˜ Graphë¥¼ ì“°ë©´ ë  ê²ƒì´ë‹¤. ì»¨í…ìŠ¤íŠ¸ê°€ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì— êµ­í•œí•˜ì—¬ ì •í•´ì§€ëŠ” ê²½ìš°ë¼ë©´ Graphê°€ ë§ê² ë‹¤.
- ì»´í¬ë„ŒíŠ¸ ê°„ ë¼ì´í”„ ì‚¬ì´í´ì´ ìƒì‘í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ë©´ Weakì´ ì¢‹ê² ë‹¤.
- ì˜ˆì œë¥¼ [ì—¬ê¸°](https://github.com/0tak2/ios-study/tree/main/self-study/swinject-study/swinject-study)ì— ì‘ì„±í•´ë³´ì•˜ë‹¤.

## DI ì»¨í…Œì´ë„ˆ ë¶„ì„

- Swinjectì˜ [Container](https://github.com/Swinject/Swinject/blob/c630fcaa99cc3f3af7a48018477c9e03236a7ca9/Sources/Container.swift)ë¥¼ ë³´ë©´ ëŒ€ëµì ì¸ ë©”ì»¤ë‹ˆì¦˜ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- register
	```swift
	public func _register<Service, Arguments>(
        _ serviceType: Service.Type,
        factory: @escaping (Arguments) -> Any,
        name: String? = nil,
        option: ServiceKeyOption? = nil
    ) -> ServiceEntry<Service> {
        syncIfEnabled {
            let key = ServiceKey(serviceType: Service.self, argumentsType: Arguments.self, name: name, option: option)
            let entry = ServiceEntry(
                serviceType: serviceType,
                argumentsType: Arguments.self,
                factory: factory,
                objectScope: defaultObjectScope
            )
            entry.container = self
            services[key] = entry

            behaviors.forEach { $0.container(self, didRegisterType: serviceType, toService: entry, withName: name) }

            return entry
        }
    }
	```

	- [ì—¬ê¸°](https://github.com/Swinject/Swinject/blob/c630fcaa99cc3f3af7a48018477c9e03236a7ca9/Sources/Container.swift#L138)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
	- register ë©”ì„œë“œì— ì „ë‹¬ëœ íƒ€ì… ê°ì²´ì™€ ì´ë¦„ ë“±ì„ ì¡°í•©í•´ í‚¤ë¥¼ ë§Œë“ ë‹¤. ì´ í‚¤ì—, íŒ©í† ë¦¬ í´ë¡œì ¸ ë“±ì„ ê°’ìœ¼ë¡œ í•˜ì—¬, `services: [ServiceKey: ServiceEntryProtocol]` ë”•ì…”ë„ˆë¦¬ì— í• ë‹¹í•œë‹¤.
- resolve
	```swift
    public func _resolve<Service, Arguments>(
        name: String?,
        option: ServiceKeyOption? = nil,
        invoker: @escaping ((Arguments) -> Any) -> Any
    ) -> Service? {
        // No need to use weak self since the resolution will be executed before
        // this function exits.
        syncIfEnabled {
            var resolvedInstance: Service?
            let key = ServiceKey(serviceType: Service.self, argumentsType: Arguments.self, name: name, option: option)

            if key == Self.graphIdentifierKey {
                return currentObjectGraph as? Service
            }

            if let entry = getEntry(for: key) {
                resolvedInstance = resolve(entry: entry, invoker: invoker)
            }

            if resolvedInstance == nil {
                resolvedInstance = resolveAsWrapper(name: name, option: option, invoker: invoker)
            }

            if resolvedInstance == nil {
                debugHelper.resolutionFailed(
                    serviceType: Service.self,
                    key: key,
                    availableRegistrations: getRegistrations()
                )
            }

            return resolvedInstance
        }
    }
    
	fileprivate func getEntry(for key: ServiceKey) -> ServiceEntryProtocol? {
        if let entry = services[key] {
            return entry
        } else {
            return parent?.getEntry(for: key)
        }
    }
	```
	
	- [ì—¬ê¸°](https://github.com/Swinject/Swinject/blob/c630fcaa99cc3f3af7a48018477c9e03236a7ca9/Sources/Container.swift#L234)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
	- ë°˜í™˜ ë°›ì„ íƒ€ì…ê³¼ ì´ë¦„ ë“±ìœ¼ë¡œ í‚¤ë¥¼ ì¡°í•©í•˜ê³ , services ë”•ì…”ë„ˆë¦¬ë¡œë¶€í„° í•´ë‹¹ í‚¤ì— í•´ë‹¹í•˜ëŠ” ë°¸ë¥˜ë¥¼ ì°¾ì•„ ë°˜í™˜í•œë‹¤.

## SwinjectStoryboard ë¶„ì„

- SwinjectStoryboardëŠ” ë³¸ë˜ UIStoryboardì˜ ìƒì„±ìë¥¼ ìŠ¤ìœ„ì¦ë§í•œë‹¤.

	```swift
	import UIKit
	
	extension UIStoryboard {
	    static func swizzling() {
	        DispatchQueue.once(token: "swinject.storyboard.init") {
	            let aClass: AnyClass = object_getClass(self)!
	
	            let originalSelector = #selector(UIStoryboard.init(name:bundle:))
	            let swizzledSelector = #selector(swinject_init(name:bundle:))
	
	            let originalMethod = class_getInstanceMethod(aClass, originalSelector)!
	            let swizzledMethod = class_getInstanceMethod(aClass, swizzledSelector)!
	
	            let didAddMethod = class_addMethod(aClass, originalSelector,
	                                               method_getImplementation(swizzledMethod),
	                                               method_getTypeEncoding(swizzledMethod))
	
	            guard didAddMethod else {
	                method_exchangeImplementations(originalMethod, swizzledMethod)
	                return
	            }
	            class_replaceMethod(aClass, swizzledSelector,
	                                method_getImplementation(originalMethod),
	                                method_getTypeEncoding(originalMethod))
	        }
	    }
	
	    @objc class func swinject_init(name: String, bundle: Bundle?) -> UIStoryboard {
	        guard self == UIStoryboard.self else {
	            return self.swinject_init(name: name, bundle: bundle)
	        }
	        // Instantiate SwinjectStoryboard if UIStoryboard is trying to be instantiated.
	        if SwinjectStoryboard.isCreatingStoryboardReference {
	            return SwinjectStoryboard.createReferenced(name: name, bundle: bundle)
	        } else {
	            return SwinjectStoryboard.create(name: name, bundle: bundle)
	        }
	    }
	}	
	```
	
	- [ì—¬ê¸°](https://github.com/Swinject/SwinjectStoryboard/blob/7a446cc8d8880a403519a4a43e1b64c086dd265c/Sources/iOS-tvOS/UIStoryboard%2BSwizzling.swift)ë¥¼ ë³´ë©´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
	- ì›ë˜ ìƒì„±ìì— Swinject ì´ˆê¸°í™” ë©”ì„œë“œë¥¼ ë”í•´ ê¸°ì¡´ ìƒì„±ìë¥¼ ì¹˜í™˜í•˜ê³  ìˆë‹¤. ì´ë¥¼ í†µí•´ ìµœì¢…ì ìœ¼ë¡œëŠ” UIStoryboard ëŒ€ì‹  [SwinjectStoryboard](https://github.com/Swinject/SwinjectStoryboard/blob/7a446cc8d8880a403519a4a43e1b64c086dd265c/Sources/SwinjectStoryboard.swift)ì˜ ê°ì²´ê°€ ë°˜í™˜ëœë‹¤.
- SwinjectStoryboardëŠ” ê¸°ë³¸ Swinject DI ì»¨í…Œì´ë„ˆë¥¼ ê°€ì§€ê³  ìˆê³ , ì˜ì¡´ì„± í•´ê²°ì„ ìœ„í•œ ì—¬ëŸ¬ ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³  ìˆì–´ ìŠ¤í† ë¦¬ë³´ë“œ í”„ë¡œì íŠ¸ì—ë„ DIê°€ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤.
- ì´ë¥¼ ì‘ìš©í•˜ë©´ ê°„ë‹¨í•œ êµ¬í˜„ìœ¼ë¡œ ìŠ¤í† ë¦¬ë³´ë“œ í”„ë¡œì íŠ¸ì— ë‹¤ë¥¸ DI ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ì ìš©í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.
- ì°¸ê³ ìë£Œ: https://developer.apple.com/documentation/objectivec/objective-c_runtime
